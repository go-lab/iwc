<!DOCTYPE html>
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="style.css">
    <title>Source widget</title>
  </head>
  <body>
    <h1>Source widget</h1>
    <h2>IWC as event</h2>
    <div class="block">
      <div class="text">
        <input id="text" type="text" value="Text to send">
      </div>
      <button id="button">Send event</button>
    </div>
    <h2>IWC as drag and drop</h2>
    <div class="block"><img id="dragme" src="dragme.png" draggable="true" class="dragme"></div>
    <script type="text/javascript" src="../lib/iwc.js"></script>
    <script type="text/javascript" src="../test/jquery-2.0.3.min.js"></script>
    <script type="text/javascript">
      $(window).load(function () {
      
        // ------------
        // IWC code
        // ------------
        
        var onClick = function() {
          var text = $("#text").val()
          // send data
          iwc.publish({
            event: "select",
            type: "json",
            message: {
              text: text
            }
          });
        };
        $("#button").click(onClick)
        
        // ------------
        // Drag and drop code
        // ------------
        
        iwc.draggable('dragme', {
          // dragstart should return the data that you want to transfer
          dragstart: function () {
            console.log("dragstart")
            var data = "dragme.png"
            return data
          }
        })
        
      })
    </script>
  </body>
</html>